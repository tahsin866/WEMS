<script setup>
import { ref } from 'vue'

const numberedSteps = [
  {
    title: 'Account Details',
    subtitle: 'Setup Account Details',
  },
  {
    title: 'Personal Info',
    subtitle: 'Add personal info',
  },
  {
    title: 'Social Links',
    subtitle: 'Add social links',
  },
]

const currentStep = ref(0)
const isPasswordVisible = ref(false)
const isCPasswordVisible = ref(false)

const formData = ref({
  username: '',
  email: '',
  password: '',
  cPassword: '',
  firstName: '',
  lastName: '',
  country: undefined,
  language: undefined,
  twitter: '',
  facebook: '',
  googlePlus: '',
  LinkedIn: '',
})

const onSubmit = () => {
  console.log(formData.value)
}



// Define references and reactive variables
const fileInput = ref(null)
const selectedFiles = ref([])

// Method to trigger the file input click
const triggerFileInput = () => {
  fileInput.value.click()
}

// Method to handle file change when a file is selected
const handleFileChange = event => {
  const files = event.target.files

  selectedFiles.value = []

  // Loop through the selected files and add to the array
  for (let i = 0; i < files.length; i++) {
    const file = files[i]

    const fileData = {
      name: file.name,
      size: file.size,
      type: file.type,
      preview: URL.createObjectURL(file), // Create preview for image files
    }

    selectedFiles.value.push(fileData)
  }
}

// Method to remove a file by index
const removeFile = index => {
  selectedFiles.value.splice(index, 1)
}

// Placeholder methods for drag and drop events
const handleDragOver = event => {
  // Optional logic to handle drag over event
}

const handleDrop = event => {
  // Optional logic to handle drop event
}
</script>

<template>
  <VCard>
    <VCardTitle style="background-color: #243b55; color: white;">
      <h5 class="text-white">
        ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶§‡¶•‡ßç‡¶Ø
      </h5>
    </VCardTitle>
    <VCardText>
      <!-- üëâ stepper content -->
      <VForm class="mt-5">
        <VRow>
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.username"
              placeholder="‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)"
              label="‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)"
              density="compact"
            />
          </VCol>

          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶®‡¶æ‡¶Æ (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"
              label="‡¶®‡¶æ‡¶Æ (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"
              density="compact"
            />
          </VCol>

          
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶®‡¶æ‡¶Æ (‡¶Ü‡¶∞‡¶¨‡¶ø)"
              label="‡¶®‡¶æ‡¶Æ (‡¶Ü‡¶∞‡¶¨‡¶ø)"
              density="compact"
            />
          </VCol>
        </VRow>
        <VRow>
          <VCol cols="12" />

          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.username"
              placeholder="‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)"
              label="‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)"
              density="compact"
            />
          </VCol>

          <VCol
            cols="12"
            md="4"
          >
            <VTextField
               
              placeholder="‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"
              label="‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"
              density="compact"
            />
          </VCol>

          
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶Ü‡¶∞‡¶¨‡¶ø)"
              label="‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶Ü‡¶∞‡¶¨‡¶ø)"
              density="compact"
            />
          </VCol>
        </VRow>
        <VRow>
          <VCol cols="12" />

          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.username"
              placeholder="‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)"
              label="‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)"
              density="compact"
            />
          </VCol>

          <VCol
            cols="12"
            md="4"
            density="compact"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"
              label="‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)"
              density="compact"
            />
          </VCol>

          
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶Ü‡¶∞‡¶¨‡¶ø)"
              label="‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ (‡¶Ü‡¶∞‡¶¨‡¶ø)"
              density="compact"
            />
          </VCol>
        </VRow>
        <VRow>
          <VCol cols="12" />

          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="selectedDate"
              label="Date"
              type="date"
              outlined
              class="form-label"
              density="compact"
            />
          </VCol>

          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶ú‡¶®‡ßç‡¶Æ-‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
              label="‡¶ú‡¶®‡ßç‡¶Æ-‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
              density="compact"
            />
          </VCol>

          
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶™‡¶∞‡¶ø‡¶ö‡ßü‡¶™‡¶§‡ßç‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
              label="‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶™‡¶∞‡¶ø‡¶ö‡ßü‡¶™‡¶§‡ßç‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
              density="compact"
            />
          </VCol>
        </VRow>
        <VRow class="mb-5">
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶Ö‡¶≠‡¶ø‡¶¨‡¶æ‡¶¨‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ"
              label="‡¶Ö‡¶≠‡¶ø‡¶¨‡¶æ‡¶¨‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ"
              density="compact"
            />
          </VCol>
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶Ö‡¶≠‡¶ø‡¶¨‡¶æ‡¶¨‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
              label="‡¶Ö‡¶≠‡¶ø‡¶¨‡¶æ‡¶¨‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"
              density="compact"
            />
          </VCol>
        </VRow>
      </vform>
    </vcardtext>
  </VCard>
  <VCard class="mt-5">
    <VCardTitle style="background-color: #243b55; color: white;">
      <h5 class="text-white">
        ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶§‡¶•‡ßç‡¶Ø
      </h5>
    </VCardTitle>
    <VCardText>
      <!-- üëâ stepper content -->
      <VForm class="mt-5">
        <VRow class="mt-10">
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              label="‡¶®‡¶ø‡ßü‡¶Æ‡¶ø‡¶§"
              placeholder="‡¶Æ‡ßã‡¶ü ‡¶õ‡¶æ‡¶§‡ßç‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ"
              aria-label="Disabled input example"
              disabled
              dense
              class="mb-3"
              density="compact"
            />
          </VCol>
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              label="‡¶¨‡ßã‡¶∞‡ßç‡¶°"
              placeholder="‡¶Æ‡ßã‡¶ü ‡¶õ‡¶æ‡¶§‡ßç‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ"
              aria-label="Disabled input example"
              disabled
              dense
              class="mb-3"
              density="compact"
            />
          </VCol>
        </vrow>
        <VRow>
          <VCol
            cols="12"
            md="2"
          >
            <h4 class="text-warning">
              ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡¶ø ‡¶ï‡¶ø‡¶§‡¶æ‡¶¨ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            </h4>
          </VCol>
          <VCol
            cols="12"
            md="2"
          >
            <VCheckbox label="‡¶π‡¶ø‡¶¶‡¶æ‡ßü‡¶æ ‡ßß‡¶Æ ‡¶ñ‡¶®‡ßç‡¶°" />
          </VCol>
          <VCol
            cols="12"
            md="2"
            class="mb-5"
          >
            <VCheckbox label="‡¶π‡¶ø‡¶¶‡¶æ‡ßü‡¶æ ‡ß®‡¶Æ ‡¶ñ‡¶®‡ßç‡¶°" />
          </VCol>
        </VRow>
      </vform>
    </vcardtext>
  </VCard>
  <VCard class="mt-5">
    <VCardTitle style="background-color: #243b55; color: white;">
      <h5 class="text-white">
        ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ
      </h5>
    </VCardTitle>
    <VCardText>
      <!-- üëâ stepper content -->
      <VForm class="mt-5">
        <VRow>
          <VCol
            cols="12"
            md="4"
          >
            <VCol cols="3" />
            <VSelect
              :items="items"
              label="‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó"
              placeholder="Select Item"
              eager
              density="compact"
            />
          </VCol>
          <VCol
            cols="12"
            md="4"
          >
            <VCol cols="3" />
            <VSelect
              :items="items"
              label="‡¶ú‡ßá‡¶≤‡¶æ"
              placeholder="Select Item"
              eager
              density="compact"
            />
          </VCol>
          <VCol
            cols="12"
            md="4"
          >
            <VCol cols="3" />
            <VSelect
              :items="items"
              label="‡¶•‡¶æ‡¶®‡¶æ/‡¶â‡¶™‡¶ú‡ßá‡¶≤‡¶æ"
              placeholder="Select Item"
              eager
              density="compact"
            />
          </VCol>
        </vrow>
        <VRow>
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶°‡¶æ‡¶ï ‡¶ò‡¶∞"
              label="‡¶°‡¶æ‡¶ï ‡¶ò‡¶∞"
              density="compact"
            />
          </vcol>
          <VCol
            cols="12"
            md="4"
          >
            <VTextField
              v-model="formData.email"
              placeholder="‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ"
              label="‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ"
              density="compact"
            />
          </vcol>
        </VRow>
      </vform>
    </vcardtext>
  </VCard>
  <VCard class="mt-5">
    <VCardTitle style="background-color: #243b55; color: white;">
      <h5 class="text-white">
        ‡¶∏‡¶Ç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø
      </h5>
    </VCardTitle>
    <VCardText>
      <!-- üëâ stepper content -->
      <VForm class="mt-5">
        <VRow>
          <div
            class="d-flex flex-column justify-center align-center gap-y-2 pa-12 drop-zone rounded"
            @dragover.prevent="handleDragOver"
            @drop.prevent="handleDrop"
          >
            <!-- Upload Button (for Drag and Drop) -->
            <button
              type="button"
              class="v-btn v-btn--icon v-theme--light text-secondary v-btn--density-default v-btn--variant-tonal rounded"
              style="width: 40px; height: 40px;"
              @click="triggerFileInput"
            >
              <span class="v-btn__overlay" />
              <span class="v-btn__underlay" />
              <span
                class="v-btn__content"
                data-no-activator
              >
                <i
                  class="ri-upload-2-line v-icon notranslate v-theme--light"
                  aria-hidden="true"
                  style="font-size: 24px; height: 24px; width: 24px;"
                />
              </span>
            </button>

            <!-- Text for Drag and Drop -->
            <h4 class="text-h4">
              Drag and drop your image here.
            </h4>

            <!-- Or -->
            <span class="text-disabled">or</span>

            <!-- Browse Images Button -->
            <button
              type="button"
              class="v-btn v-theme--light text-primary v-btn--density-default v-btn--size-small v-btn--variant-outlined"
              @click="triggerFileInput"
            >
              <span class="v-btn__overlay" />
              <span class="v-btn__underlay" />
              <span
                class="v-btn__content"
                data-no-activator
              >
                Browse Images
              </span>
            </button>

            <!-- Hidden file input -->
            <input
              ref="fileInput"
              type="file"
              style="display: none"
              @change="handleFileChange"
            >

            <!-- Display selected files inside the drop zone -->
            <div
              v-if="selectedFiles.length > 0"
              class="mt-4 w-100"
            >
              <h4 class="text-h5">
                Selected Files:
              </h4>
              <ul class="w-100 d-flex flex-column align-items-center">
                <li
                  v-for="(file, index) in selectedFiles"
                  :key="index"
                  class="d-flex justify-between align-center w-75 mb-2"
                  style="border: 1px solid #ddd; padding: 10px; border-radius: 8px;"
                >
                  <div>
                    {{ file.name }} ({{ (file.size / 1024).toFixed(2) }} KB)

                    <!-- Image preview for image files -->
                    <div
                      v-if="file.type.startsWith('image/')"
                      class="mt-2"
                    >
                      <img
                        :src="file.preview"
                        alt="Image Preview"
                        style="max-width: 100px; max-height: 100px; border-radius: 4px;"
                      >
                    </div>
                  </div>

                  <!-- Remove button -->
                  <button
                    type="button"
                    class="v-btn v-theme--light text-error v-btn--density-default v-btn--size-small v-btn--variant-outlined ml-2"
                    @click="removeFile(index)"
                  >
                    Remove
                  </button>
                </li>
              </ul>
            </div>
          </div>
        </VRow>
      </vform>
    </vcardtext>
  </VCard>
</template>

<style scoped>
/* Add custom styles here if needed */
.drop-zone {
  border: 2px dashed #ccc;
  padding: 20px;
  text-align: center;
}

.drop-zone {
  border: 2px dashed #ccc;
  padding: 20px;
  width: 100%;
  text-align: center;
  cursor: pointer;
}

.w-100 {
  width: 100%;
}

.w-75 {
  width: 75%;
}
</style>
